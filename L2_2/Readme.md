Программа выводит 2 и 1 - результат выполнения функций test и anotherTest. 

Функция test имеет в сигнатуре именованное возвращаемое значение x, а anotherTest инициализирует локальную переменную x и возвращает ее значение. Обе функции выполняют defer func, в которой внутри инкриминируется x. 

Из-за того, что выполняется defer func(){}() с пустым аргументом, внутрь defer сохраняется адрес x, то есть происходит замыкание и обе функции успешно инкриминируют x. 

Но в отличии от test, в anotherTest в строке return сразу же будет вычислено значение x (то есть "1" на момент выполнения строки return) и сохраняться в стеке вызова. То, что будет происходить с переменной x в defer, уже не повлияет на результат. 

В test же, во время вычисления результата return никакое значение не сохраняется и defer успешно меняет значение x, которое уже выводится в момент выполнения return